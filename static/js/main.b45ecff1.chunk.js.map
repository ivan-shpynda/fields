{"version":3,"sources":["i18.js","comps/Title.js","firebase/config.js","hooks/useStorage.js","comps/ProgressBar.js","comps/ImageBlock.js","comps/Modal.js","comps/Header.js","comps/LoginPage.js","App.js","index.js"],"names":["i18n","use","initReactI18next","Languagedetector","init","debug","fallbackLng","lng","resources","en","translation","title","description","uk","Title","t","useTranslation","className","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","getAuth","storage","getStorage","useStorage","file","useState","progress","setProgress","error","setError","url","setUrl","useEffect","storageRef","ref","name","uploadFile","uploadBytesResumable","on","snapshot","bytesTransferred","totalBytes","getDownloadURL","then","downloadURL","ProgressBar","setFile","setImageList","prev","motion","div","initial","width","animate","ImageBlock","setSelectedImg","user","types","imageList","imageListRef","listAll","response","items","forEach","item","type","onChange","e","selected","target","files","includes","icon","faCirclePlus","faMobileScreenButton","map","key","onClick","layout","whileHover","opacity","img","src","alt","transition","delay","Modal","selectedImg","classList","contains","y","Header","setUser","lang","setLang","language","handleLogout","a","signOut","changeLang","changeLanguage","to","faRightFromBracket","LoginPage","email","setEmail","password","setPassword","navigate","useNavigate","onAuthStateChanged","currentUser","hangleLogin","signInWithEmailAndPassword","console","faUser","placeholder","value","App","path","element","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b45ecff1.chunk.js","sourcesContent":["import i18n from \"i18next\";\nimport { initReactI18next } from \"react-i18next\";\nimport Languagedetector from \"i18next-browser-languagedetector\"\n\ni18n\n  .use(initReactI18next)\n  .use(Languagedetector)\n  .init({\n    debug: \"true\",\n    fallbackLng: \"en\",\n    lng: \"uk\",\n    resources: {\n      en: {\n        translation: {\n          title: \"Fields\",\n          description: \"Photos were taken on iPhone SE during 2020-2022 at the outskirts of Lviv.\"\n        }\n      },\n\n      uk: {\n        translation: {\n          title: \"Поля\",\n          description: \"Відзнято на околицях Львова протягом 2020-2022 років на iPhone SE.\"\n        }\n      }\n    }\n  })\n\n  export default i18n;\n","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nconst Title = () => {\n  const { t } = useTranslation();\n  return (\n    <div className=\"title\">\n      <h2>{t('title')}</h2>\n      <p>{t('description')}</p>\n    </div>\n  )\n}\n\nexport default Title;\n","import { initializeApp } from \"firebase/app\";\n\nimport { getStorage } from \"@firebase/storage\";\nimport { getAuth } from \"@firebase/auth\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBxgWhzbvbPTdpjx_0dsy4rwpGG6jef-y0\",\n  authDomain: \"photo-galery-f9c9e.firebaseapp.com\",\n  projectId: \"photo-galery-f9c9e\",\n  storageBucket: \"photo-galery-f9c9e.appspot.com\",\n  messagingSenderId: \"1096090652019\",\n  appId: \"1:1096090652019:web:82017c8e19380caf46c906\"\n};\n\nconst app = initializeApp(firebaseConfig);\n\nexport const auth = getAuth(app);\nexport const storage = getStorage(app);\n","import { useState, useEffect } from \"react\";\nimport { storage } from \"../firebase/config\";\nimport { ref, uploadBytesResumable, getDownloadURL } from \"@firebase/storage\";\n\nconst useStorage = (file) => {\n\n  const [progress, setProgress] = useState(0);\n  const [error, setError] = useState(null);\n  const [url, setUrl] = useState(null);\n\n  useEffect(() => {\n    const storageRef = ref(storage, `images/${file.name}`);\n    const uploadFile = uploadBytesResumable(storageRef, file);\n\n    uploadFile.on(\"state_changed\", (snapshot) => {\n      setProgress((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\n    }, (error) => {\n      setError(error)\n    }, () => {\n      getDownloadURL(uploadFile.snapshot.ref).then((downloadURL) => {\n        setUrl(downloadURL);\n      });\n    })\n  }, [file])\n\n  return { progress, error, url };\n}\n\nexport default useStorage;\n","import React, { useEffect } from \"react\";\nimport useStorage from \"../hooks/useStorage\";\nimport { motion } from \"framer-motion\";\n\nconst ProgressBar = ({ file, setFile, setImageList }) => {\n  const { url, progress } = useStorage(file);\n\n  useEffect(() => {\n    if(url) {\n      setFile(null);\n      setImageList(prev => [ url, ...prev ]);\n    }\n  }, [url]);\n\n  return (\n    <motion.div\n      className=\"progress-bar\"\n      initial={{ width: 0 }}\n      animate={{ width: progress + \"%\" }}\n    />\n  )\n}\n\nexport default ProgressBar;\n","import React, { useState, useEffect } from \"react\";\nimport ProgressBar from \"./ProgressBar\";\nimport { storage } from \"../firebase/config\";\nimport { listAll, ref, getDownloadURL } from \"firebase/storage\";\nimport { motion } from \"framer-motion\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faCirclePlus } from \"@fortawesome/free-solid-svg-icons\";\nimport { faMobileScreenButton } from \"@fortawesome/free-solid-svg-icons\";\n\nconst ImageBlock = ({ setSelectedImg, user }) => {\n  const [file, setFile] = useState(null);\n  const [error, setError] = useState(null);\n\n  const types = [\"image/png\", \"image/jpeg\"];\n\n  const changeHandler = (e) => {\n    const selected = e.target.files[0];\n\n    if (selected && types.includes(selected.type)) {\n      setFile(selected);\n      setError(\"\");\n    } else {\n      setFile(null);\n      setError(\"Please, select an image file (png pr jpeg)\")\n    }\n  };\n\n  const [imageList, setImageList] = useState([]);\n  const imageListRef = ref(storage, \"images/\");\n\n  useEffect(() => {\n    listAll(imageListRef).then(response => {\n      response.items.forEach(item => {\n        getDownloadURL(item).then(url => {\n          setImageList(prev => [ url, ...prev ])\n        })\n      })\n    })\n  }, []);\n\n  return (\n    <>\n      {user ? \n        <form>\n        <label>\n          <input type=\"file\" onChange={changeHandler} />\n          <FontAwesomeIcon icon={faCirclePlus} />\n        </label>\n        <div className=\"output\">\n          { error && <div className=\"error\">{ error }</div> }\n          { file && <div>{ file.name }</div>}\n          { file && <ProgressBar file={file} setFile={setFile} setImageList={setImageList} /> }\n        </div>\n      </form>\n        :\n        <div className=\"phone-icon-block\">\n          <FontAwesomeIcon className=\"phone-icon\" icon={faMobileScreenButton} />\n        </div>\n        \n      }\n      <div className=\"img-grid\">\n        {imageList && imageList.map(url => (\n          <motion.div\n            className=\"img-wrap\"\n            key={url}\n            onClick={() => setSelectedImg(url)}\n            layout\n            whileHover={{\n              opacity: 1\n            }}\n          >\n            <motion.img\n              src={url}\n              alt=\"uploaded\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ delay: 1 }}\n            /> \n          </motion.div>\n        ))}\n      </div>\n    </>\n  )\n}\n\nexport default ImageBlock;\n","import React from \"react\";\nimport { motion } from \"framer-motion\";\n\nconst Modal = ({ selectedImg, setSelectedImg }) => {\n  const handleClose = (e) => {\n    if(e.target.classList.contains(\"backdrop\")) {\n      setSelectedImg(null);\n    }\n  }\n  return (\n    <motion.div\n      className=\"backdrop\"\n      onClick={handleClose}\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n    >\n      <motion.img\n        src={selectedImg} alt=\"midal-pic\"\n        initial={{ y: \"-100vh\" }}\n        animate={{ y: 0 }}\n      />\n    </motion.div>\n  )\n}\n\n\nexport default Modal;\n","import React, { useEffect, useState } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faRightFromBracket } from \"@fortawesome/free-solid-svg-icons\";\nimport { signOut } from \"@firebase/auth\";\nimport { auth } from \"../firebase/config\";\nimport { Link } from \"react-router-dom\";\nimport i18n from \"../i18\";\n\nconst Header = ({user, setUser}) => {\n\n  const [lang, setLang] = useState(null);\n  useEffect(() => {\n    setLang(i18n.language);\n  }, []);\n\n  const handleLogout = async () => {\n    await signOut(auth);\n    setUser(null)\n  }\n\n  const changeLang = (lang) => {\n    i18n.changeLanguage(lang);\n    setLang(i18n.language);\n  }\n\n  return (\n    <div className=\"header\">\n      <Link className=\"logo\" to=\"/\">impressions</Link>\n      <div className=\"header-wrap\">\n        <div className=\"lang\">\n          <span className={`lang-variant ${lang === 'en' ? 'active' : ''}`} onClick={() => changeLang(\"en\")}>EN</span>\n          <span>|</span>\n          <span className={`lang-variant ${lang === 'uk' ? 'active' : ''}`} onClick={() => changeLang(\"uk\")}>UA</span>\n        </div>\n        { user && <FontAwesomeIcon className=\"logout\" onClick={handleLogout} icon={faRightFromBracket} /> }\n      </div>\n    </div>\n  )\n}\n\nexport default Header;\n","import React, { useState } from \"react\";\nimport { onAuthStateChanged, signInWithEmailAndPassword } from \"@firebase/auth\";\nimport { auth } from \"../firebase/config\";\nimport { useNavigate } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {faUser} from \"@fortawesome/free-solid-svg-icons\"\n\nconst LoginPage = ({ setUser }) => {\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const navigate = useNavigate()\n\n  onAuthStateChanged(auth, (currentUser) => {\n    setUser(currentUser);\n  })\n\n  const hangleLogin = async () => {\n    try {\n      await signInWithEmailAndPassword(auth, email, password);\n      navigate(\"/\");\n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n  return (\n    <div className=\"login-form\">\n      <FontAwesomeIcon className=\"user-icon\" icon={faUser} />\n      <input className=\"login-input\" type=\"email\" placeholder=\"Enter your email\" onChange={(e) => { setEmail(e.target.value) }}/>\n      <input  className=\"login-input\" type=\"password\" placeholder=\"Enter your password\" onChange={(e) => { setPassword(e.target.value) }} />\n      <button className=\"login-btn\" onClick={hangleLogin}>\n        <span>Login</span>\n      </button>\n    </div>\n  )\n}\n\nexport default LoginPage;\n","import React, { useState } from \"react\";\nimport Title from './comps/Title';\nimport ImageBlock from \"./comps/ImageBlock\";\nimport Modal from \"./comps/Modal\";\nimport Header from \"./comps/Header\";\nimport { Route, Routes } from \"react-router-dom\";\nimport LoginPage from \"./comps/LoginPage\";\nimport { auth } from \"./firebase/config\";\nimport { onAuthStateChanged } from \"@firebase/auth\";\n\nfunction App() {\n  const [selectedImg, setSelectedImg] = useState(null);\n  const [user, setUser] = useState(null);\n\n  onAuthStateChanged(auth, (currentUser) => {\n    setUser(currentUser);\n  })\n\n  return (\n    <div className=\"App\">\n      <Header user={user} setUser={setUser} />\n      <Routes>\n        <Route path=\"/\" element={\n          <>\n            <Title />\n            <ImageBlock user={user} setSelectedImg={setSelectedImg} />\n            { selectedImg && <Modal selectedImg={selectedImg} setSelectedImg={setSelectedImg} /> }\n          </>\n        } />\n        <Route path=\"/login\" element={<LoginPage setUser={setUser} />} />\n       \n        <Route path=\"*\" element={<p>Page Is Not Found</p>} />\n      </Routes>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './i18';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}